import{r as i,j as e,B as p,M as v,E as u,v as j,Z as f,T as d,D as b,H as A}from"./index-DNJ-7_Rf.js";import{C as y}from"./config-global-CwnLHF89.js";import{C}from"./Card-98N49c-B.js";import{F as c,I as w,S}from"./Select-C6NYPjTS.js";import{T as m}from"./TextField-DrqQKz-z.js";import{A as E}from"./Autocomplete-BwuapI8N.js";import{C as F}from"./Chip-BXj8O4Gd.js";import{F as T,S as I}from"./Switch-CwwqqYuk.js";import"./useControlled-CYejl48w.js";import"./Popper-yRRR-Rwr.js";import"./Stack-BvggcJT0.js";import"./SwitchBase-DJ_sWzg7.js";const k=()=>{const[r,a]=i.useState({type:"info",message:"",pages:[],active:!0}),l=[{value:"info",label:"Información"},{value:"error",label:"Error"},{value:"success",label:"Éxito"}],n=["/assigned-sensors","/forecast","/home","/projects","/map","/sensors-report","/sensors","/register","/users","/cms","/logs","/whatsapp","/webhooks","/alerts"],h=s=>{s.preventDefault(),console.log("Enviando alerta:",r)},x=s=>{switch(s){case"error":return"error";case"success":return"success";default:return"info"}};return e.jsx(C,{sx:{maxWidth:800,margin:"0 auto",p:3,width:"100%",mt:2},children:e.jsx("form",{onSubmit:h,children:e.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(c,{fullWidth:!0,children:[e.jsx(w,{children:"Tipo de Alerta"}),e.jsx(S,{value:r.type,label:"Tipo de Alerta",onChange:s=>a(t=>({...t,type:s.target.value})),children:l.map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))})]}),e.jsx(m,{label:"Mensaje",multiline:!0,rows:4,value:r.message,onChange:s=>a(t=>({...t,message:s.target.value})),fullWidth:!0}),e.jsx(c,{fullWidth:!0,children:e.jsx(E,{multiple:!0,value:r.pages,onChange:(s,t)=>{a(o=>({...o,pages:t}))},options:n,renderTags:(s,t)=>s.map((o,g)=>i.createElement(F,{label:o,...t({index:g}),key:o})),renderInput:s=>e.jsx(m,{...s,label:"Páginas",placeholder:"Selecciona páginas"})})}),e.jsx(T,{control:e.jsx(I,{checked:r.active,onChange:s=>a(t=>({...t,active:s.target.checked})),color:"primary"}),label:"Activo"}),r.message&&e.jsx(u,{severity:x(r.type),sx:{mt:2},children:r.message}),e.jsx(j,{type:"submit",variant:"contained",color:"primary",size:"large",fullWidth:!0,children:"Crear Alerta"})]})})})},D=[{type:"error",message:"Estamos en mantenimiento.",pages:["/alerts","/webhooks"],active:!1}],W=()=>{const r=f(),a=D.filter(l=>l.active&&l.pages.includes(r.pathname));return a.length===0?null:e.jsx(p,{sx:{pointerEvents:"none"},children:a.map((l,n)=>e.jsx(u,{severity:l.type,variant:"standard",sx:{mb:1,pointerEvents:"auto",boxShadow:"0 2px 8px 0 rgb(0,0,0,0.05)",border:"1px solid rgb(0,0,0,0.05)","& .MuiAlert-message":{width:"100%"}},children:e.jsx(d,{children:l.message})},n))})};function M(){return e.jsxs(b,{children:[e.jsx(W,{}),e.jsx(d,{variant:"h4",children:"Alerts"}),e.jsx(k,{})]})}function $(){return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:e.jsxs("title",{children:[" ",`Alertas - ${y.appName}`]})}),e.jsx(M,{})]})}export{$ as default};
