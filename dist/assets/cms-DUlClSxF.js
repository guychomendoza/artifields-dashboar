import{j as g,d as q,I as J,t as $,r as C,aa as m,B as A,T as H,v as P,D as Q,H as Z}from"./index-DNJ-7_Rf.js";import{C as ee}from"./config-global-CwnLHF89.js";import{G as B}from"./Grid-BaR81AYS.js";import{u as te}from"./index-CG6N1FjS.js";import{S as ne}from"./Stack-BvggcJT0.js";import{C as ie}from"./CircularProgress-DypZclCl.js";import{T as re}from"./TextField-DrqQKz-z.js";import{D as oe,a as ae,b as se}from"./DialogContent-DmUc9Cb3.js";import{C as he}from"./Card-98N49c-B.js";import{C as de}from"./CardHeader-BODd0mTE.js";import{C as ce}from"./CardContent-DR76uJN9.js";import"./index-BMHLmDq2.js";import"./Select-C6NYPjTS.js";import"./useControlled-CYejl48w.js";const le=({images:d,refetchImages:t})=>{const e=async r=>{(await fetch(`${$}/api/login/${r}`,{method:"DELETE"})).status===200&&t()};return g.jsx(B,{container:!0,spacing:3,mt:1,children:d.map(r=>g.jsxs(B,{item:!0,xs:6,sm:3,md:2,sx:{position:"relative"},children:[g.jsx("img",{src:r.img,alt:r.nombre,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:10}}),d.length>1&&g.jsx(q,{onClick:()=>e(r.id),sx:{position:"absolute",right:2,bottom:2,backdropFilter:"blur(4px)",backgroundColor:"rgba(255, 255, 255, 0.8)",color:"error.main","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.9)"}},children:g.jsx(J,{icon:"solar:trash-bin-trash-bold"})})]},r.id))})},I={x:0,y:0,width:0,height:0,unit:"px"},M=(d,t,e)=>Math.min(Math.max(d,t),e),pe=(...d)=>d.filter(t=>t&&typeof t=="string").join(" "),L=(d,t)=>d===t||d.width===t.width&&d.height===t.height&&d.x===t.x&&d.y===t.y&&d.unit===t.unit;function k(d,t,e){return d.unit==="%"?{...I,...d,unit:"%"}:{unit:"%",x:d.x?d.x/t*100:0,y:d.y?d.y/e*100:0,width:d.width?d.width/t*100:0,height:d.height?d.height/e*100:0}}function R(d,t,e){return d.unit?d.unit==="px"?{...I,...d,unit:"px"}:{unit:"px",x:d.x?d.x*t/100:0,y:d.y?d.y*e/100:0,width:d.width?d.width*t/100:0,height:d.height?d.height*e/100:0}:{...I,...d,unit:"px"}}function O(d,t,e,r,n,i=0,s=0,p=r,a=n){const o={...d};let c=Math.min(i,r),l=Math.min(s,n),w=Math.min(p,r),h=Math.min(a,n);t&&(t>1?(c=s?s*t:c,l=c/t,w=p*t):(l=i?i/t:l,c=l*t,h=a/t)),o.y<0&&(o.height=Math.max(o.height+o.y,l),o.y=0),o.x<0&&(o.width=Math.max(o.width+o.x,c),o.x=0);const x=r-(o.x+o.width);x<0&&(o.x=Math.min(o.x,r-c),o.width+=x);const f=n-(o.y+o.height);if(f<0&&(o.y=Math.min(o.y,n-l),o.height+=f),o.width<c&&((e==="sw"||e=="nw")&&(o.x-=c-o.width),o.width=c),o.height<l&&((e==="nw"||e=="ne")&&(o.y-=l-o.height),o.height=l),o.width>w&&((e==="sw"||e=="nw")&&(o.x-=w-o.width),o.width=w),o.height>h&&((e==="nw"||e=="ne")&&(o.y-=h-o.height),o.height=h),t){const D=o.width/o.height;if(D<t){const v=Math.max(o.width/t,l);(e==="nw"||e=="ne")&&(o.y-=v-o.height),o.height=v}else if(D>t){const v=Math.max(o.height*t,c);(e==="sw"||e=="nw")&&(o.x-=v-o.width),o.width=v}}return o}function ge(d,t,e,r){const n={...d};return t==="ArrowLeft"?r==="nw"?(n.x-=e,n.y-=e,n.width+=e,n.height+=e):r==="w"?(n.x-=e,n.width+=e):r==="sw"?(n.x-=e,n.width+=e,n.height+=e):r==="ne"?(n.y+=e,n.width-=e,n.height-=e):r==="e"?n.width-=e:r==="se"&&(n.width-=e,n.height-=e):t==="ArrowRight"&&(r==="nw"?(n.x+=e,n.y+=e,n.width-=e,n.height-=e):r==="w"?(n.x+=e,n.width-=e):r==="sw"?(n.x+=e,n.width-=e,n.height-=e):r==="ne"?(n.y-=e,n.width+=e,n.height+=e):r==="e"?n.width+=e:r==="se"&&(n.width+=e,n.height+=e)),t==="ArrowUp"?r==="nw"?(n.x-=e,n.y-=e,n.width+=e,n.height+=e):r==="n"?(n.y-=e,n.height+=e):r==="ne"?(n.y-=e,n.width+=e,n.height+=e):r==="sw"?(n.x+=e,n.width-=e,n.height-=e):r==="s"?n.height-=e:r==="se"&&(n.width-=e,n.height-=e):t==="ArrowDown"&&(r==="nw"?(n.x+=e,n.y+=e,n.width-=e,n.height-=e):r==="n"?(n.y+=e,n.height-=e):r==="ne"?(n.y+=e,n.width-=e,n.height-=e):r==="sw"?(n.x-=e,n.width+=e,n.height+=e):r==="s"?n.height+=e:r==="se"&&(n.width+=e,n.height+=e)),n}const j={capture:!0,passive:!1};let we=0;const E=class b extends C.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=C.createRef(),this.mediaRef=C.createRef(),this.initChangeCalled=!1,this.instanceId=`rc-${we++}`,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=t=>{const{crop:e,disabled:r}=this.props,n=this.getBox();if(!e)return;const i=R(e,n.width,n.height);if(r)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=t.target.dataset.ord,p=!!s;let a=t.clientX,o=t.clientY,c=i.x,l=i.y;if(s){const w=t.clientX-n.x,h=t.clientY-n.y;let x=0,f=0;s==="ne"||s=="e"?(x=w-(i.x+i.width),f=h-i.y,c=i.x,l=i.y+i.height):s==="se"||s==="s"?(x=w-(i.x+i.width),f=h-(i.y+i.height),c=i.x,l=i.y):s==="sw"||s=="w"?(x=w-i.x,f=h-(i.y+i.height),c=i.x+i.width,l=i.y):(s==="nw"||s=="n")&&(x=w-i.x,f=h-i.y,c=i.x+i.width,l=i.y+i.height),a=c+n.x+x,o=l+n.y+f}this.evData={startClientX:a,startClientY:o,startCropX:c,startCropY:l,clientX:t.clientX,clientY:t.clientY,isResize:p,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=t=>{const{crop:e,disabled:r,locked:n,keepSelection:i,onChange:s}=this.props,p=this.getBox();if(r||n||i&&e)return;t.cancelable&&t.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const a=t.clientX-p.x,o=t.clientY-p.y,c={unit:"px",x:a,y:o,width:0,height:0};this.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:a,startCropY:o,clientX:t.clientX,clientY:t.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(R(c,p.width,p.height),k(c,p.width,p.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=t=>{const{crop:e,disabled:r,onChange:n,onDragStart:i}=this.props,s=this.getBox();if(r||!e||!this.mouseDownOnCrop)return;t.cancelable&&t.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(t));const{evData:p}=this;p.clientX=t.clientX,p.clientY=t.clientY;let a;p.isResize?a=this.resizeCrop():a=this.dragCrop(),L(e,a)||n(R(a,s.width,s.height),k(a,s.width,s.height))},this.onComponentKeyDown=t=>{const{crop:e,disabled:r,onChange:n,onComplete:i}=this.props;if(r)return;const s=t.key;let p=!1;if(!e)return;const a=this.getBox(),o=this.makePixelCrop(a),c=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?b.nudgeStepLarge:t.shiftKey?b.nudgeStepMedium:b.nudgeStep;if(s==="ArrowLeft"?(o.x-=c,p=!0):s==="ArrowRight"?(o.x+=c,p=!0):s==="ArrowUp"?(o.y-=c,p=!0):s==="ArrowDown"&&(o.y+=c,p=!0),p){t.cancelable&&t.preventDefault(),o.x=M(o.x,0,a.width-o.width),o.y=M(o.y,0,a.height-o.height);const l=R(o,a.width,a.height),w=k(o,a.width,a.height);n(l,w),i&&i(l,w)}},this.onHandlerKeyDown=(t,e)=>{const{aspect:r=0,crop:n,disabled:i,minWidth:s=0,minHeight:p=0,maxWidth:a,maxHeight:o,onChange:c,onComplete:l}=this.props,w=this.getBox();if(i||!n)return;if(t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="ArrowLeft"||t.key==="ArrowRight")t.stopPropagation(),t.preventDefault();else return;const h=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?b.nudgeStepLarge:t.shiftKey?b.nudgeStepMedium:b.nudgeStep,x=R(n,w.width,w.height),f=ge(x,t.key,h,e),D=O(f,r,e,w.width,w.height,s,p,a,o);if(!L(n,D)){const v=k(D,w.width,w.height);c(D,v),l&&l(D,v)}},this.onDocPointerDone=t=>{const{crop:e,disabled:r,onComplete:n,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(r||!e)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(t),n&&n(R(e,s.width,s.height),k(e,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var t;(t=this.componentRef.current)==null||t.scrollTo(0,0)}}get document(){return document}getBox(){const t=this.mediaRef.current;if(!t)return{x:0,y:0,width:0,height:0};const{x:e,y:r,width:n,height:i}=t.getBoundingClientRect();return{x:e,y:r,width:n,height:i}}componentDidUpdate(t){const{crop:e,onComplete:r}=this.props;if(r&&!t.crop&&e){const{width:n,height:i}=this.getBox();n&&i&&r(R(e,n,i),k(e,n,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,j),this.document.addEventListener("pointerup",this.onDocPointerDone,j),this.document.addEventListener("pointercancel",this.onDocPointerDone,j),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,j),this.document.removeEventListener("pointerup",this.onDocPointerDone,j),this.document.removeEventListener("pointercancel",this.onDocPointerDone,j),this.docMoveBound=!1)}getCropStyle(){const{crop:t}=this.props;if(t)return{top:`${t.y}${t.unit}`,left:`${t.x}${t.unit}`,width:`${t.width}${t.unit}`,height:`${t.height}${t.unit}`}}dragCrop(){const{evData:t}=this,e=this.getBox(),r=this.makePixelCrop(e),n=t.clientX-t.startClientX,i=t.clientY-t.startClientY;return r.x=M(t.startCropX+n,0,e.width-r.width),r.y=M(t.startCropY+i,0,e.height-r.height),r}getPointRegion(t,e,r,n){const{evData:i}=this,s=i.clientX-t.x,p=i.clientY-t.y;let a;n&&e?a=e==="nw"||e==="n"||e==="ne":a=p<i.startCropY;let o;return r&&e?o=e==="nw"||e==="w"||e==="sw":o=s<i.startCropX,o?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(t,e,r=0,n=0){const i=Math.min(r,t.width),s=Math.min(n,t.height);return!e||!i&&!s?[i,s]:e>1?i?[i,i/e]:[s*e,s]:s?[s*e,s]:[i,i/e]}resizeCrop(){const{evData:t}=this,{aspect:e=0,maxWidth:r,maxHeight:n}=this.props,i=this.getBox(),[s,p]=this.resolveMinDimensions(i,e,this.props.minWidth,this.props.minHeight);let a=this.makePixelCrop(i);const o=this.getPointRegion(i,t.ord,s,p),c=t.ord||o;let l=t.clientX-t.startClientX,w=t.clientY-t.startClientY;(s&&c==="nw"||c==="w"||c==="sw")&&(l=Math.min(l,-s)),(p&&c==="nw"||c==="n"||c==="ne")&&(w=Math.min(w,-p));const h={unit:"px",x:0,y:0,width:0,height:0};o==="ne"?(h.x=t.startCropX,h.width=l,e?(h.height=h.width/e,h.y=t.startCropY-h.height):(h.height=Math.abs(w),h.y=t.startCropY-h.height)):o==="se"?(h.x=t.startCropX,h.y=t.startCropY,h.width=l,e?h.height=h.width/e:h.height=w):o==="sw"?(h.x=t.startCropX+l,h.y=t.startCropY,h.width=Math.abs(l),e?h.height=h.width/e:h.height=w):o==="nw"&&(h.x=t.startCropX+l,h.width=Math.abs(l),e?(h.height=h.width/e,h.y=t.startCropY-h.height):(h.height=Math.abs(w),h.y=t.startCropY+w));const x=O(h,e,o,i.width,i.height,s,p,r,n);return e||b.xyOrds.indexOf(c)>-1?a=x:b.xOrds.indexOf(c)>-1?(a.x=x.x,a.width=x.width):b.yOrds.indexOf(c)>-1&&(a.y=x.y,a.height=x.height),a.x=M(a.x,0,i.width-a.width),a.y=M(a.y,0,i.height-a.height),a}renderCropSelection(){const{ariaLabels:t=b.defaultProps.ariaLabels,disabled:e,locked:r,renderSelectionAddon:n,ruleOfThirds:i,crop:s}=this.props,p=this.getCropStyle();if(s)return m.createElement("div",{style:p,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!e&&!r&&m.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},m.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),m.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),m.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),m.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),m.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"nw"),role:"button"}),m.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"n"),role:"button"}),m.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"ne"),role:"button"}),m.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"e"),role:"button"}),m.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"se"),role:"button"}),m.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"s"),role:"button"}),m.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"sw"),role:"button"}),m.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"w"),role:"button"})),n&&m.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:a=>a.stopPropagation()},n(this.state)),i&&m.createElement(m.Fragment,null,m.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),m.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(t){const e={...I,...this.props.crop||{}};return R(e,t.width,t.height)}render(){const{aspect:t,children:e,circularCrop:r,className:n,crop:i,disabled:s,locked:p,style:a,ruleOfThirds:o}=this.props,{cropIsActive:c,newCropIsBeingDrawn:l}=this.state,w=i?this.renderCropSelection():null,h=pe("ReactCrop",n,c&&"ReactCrop--active",s&&"ReactCrop--disabled",p&&"ReactCrop--locked",l&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&r&&"ReactCrop--circular-crop",i&&o&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return m.createElement("div",{ref:this.componentRef,className:h,style:a},m.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},e),i?m.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},m.createElement("defs",null,m.createElement("mask",{id:`hole-${this.instanceId}`},m.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?m.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):m.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),m.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,w)}};E.xOrds=["e","w"],E.yOrds=["n","s"],E.xyOrds=["nw","ne","se","sw"],E.nudgeStep=1,E.nudgeStepMedium=10,E.nudgeStepLarge=100,E.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let me=E;const ue=({refetchImages:d})=>{const[t,e]=C.useState(""),[r,n]=C.useState(!1),[i,s]=C.useState(null),[p,a]=C.useState(""),[o,c]=C.useState(""),[l,w]=C.useState({unit:"%",width:18,height:32,x:0,y:0}),[h,x]=C.useState(null),[f,D]=C.useState(!1),v=m.useRef(null),U=C.useCallback(u=>{if(u.length>0){s(u[0]),e(""),x(null);const y=new FileReader;y.addEventListener("load",()=>{var S;c(((S=y.result)==null?void 0:S.toString())||""),D(!0)}),y.readAsDataURL(u[0])}},[]),F=(u,y)=>{const S=document.createElement("canvas"),N=u.naturalWidth/u.width,X=u.naturalHeight/u.height;S.width=y.width,S.height=y.height;const _=S.getContext("2d");if(!_)throw new Error("No 2d context");return _.drawImage(u,y.x*N,y.y*X,y.width*N,y.height*X,0,0,y.width,y.height),new Promise(V=>{S.toBlob(K=>{if(!K)throw new Error("Canvas is empty");V(K)},"image/jpeg",1)})},z=async()=>{if(!v.current||!l.width||!l.height){e("Please complete the crop before confirming");return}try{const u=await F(v.current,l);x(u),D(!1)}catch{e("Error cropping image")}},W=async()=>{if(!i||!h){e("Please select and crop an image first");return}if(!p.trim()){e("Please enter a prop name");return}n(!0),e("");try{const u=new FormData;if(u.append("img",h,i.name),u.append("nombre",p),(await fetch(`${$}/api/login`,{method:"POST",body:u})).status!==201)throw new Error("Failed to upload image");d(),s(null),a(""),c(""),x(null)}catch(u){e(u.message||"Failed to upload image"),setTimeout(()=>{e("")},3e3)}finally{n(!1)}},{getRootProps:T,getInputProps:G,isDragActive:Y}=te({onDrop:U,accept:{"image/*":[]},multiple:!1,disabled:r});return g.jsxs(g.Fragment,{children:[g.jsxs(ne,{spacing:2,children:[g.jsxs(A,{...T(),sx:{border:"2px dashed #ccc",padding:2,textAlign:"center",borderRadius:1,backgroundColor:Y?"#f0f0f0":"transparent",cursor:r?"not-allowed":"pointer",opacity:r?.5:1,position:"relative"},children:[r&&g.jsx(A,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:1},children:g.jsx(ie,{})}),g.jsx("input",{...G(),disabled:r}),g.jsx(H,{children:i?`Selected file: ${i.name}`:Y?"Drop the file here...":"Drag and drop a file here, or click to select one"})]}),g.jsx(re,{fullWidth:!0,label:"Nombre",variant:"outlined",value:p,onChange:u=>a(u.target.value),disabled:r||!i,placeholder:"Nombre"}),g.jsx(P,{variant:"contained",onClick:W,disabled:r||!i||!p.trim()||!h,fullWidth:!0,children:r?"Uploading...":"Save Image"}),t&&g.jsx(H,{variant:"body2",sx:{color:"error.main",textAlign:"center"},children:t})]}),g.jsxs(oe,{open:f,onClose:()=>D(!1),maxWidth:"md",fullWidth:!0,children:[g.jsx(ae,{children:o&&g.jsx(me,{crop:l,onChange:u=>w(u),aspect:3/4,className:"max-h-[70vh]",children:g.jsx("img",{ref:v,alt:"Crop me",src:o,style:{maxWidth:"100%",maxHeight:"70vh"}})})}),g.jsxs(se,{children:[g.jsx(P,{onClick:()=>D(!1),children:"Cancel"}),g.jsx(P,{onClick:z,variant:"contained",disabled:!l.width||!l.height,children:"Confirm Crop"})]})]})]})},xe=()=>{const[d,t]=C.useState([]),e=C.useCallback(async()=>{const r=await fetch(`${$}/api/login`);if(r.status!==200)return;const n=await r.json();t(n)},[]);return C.useEffect(()=>{e()},[e]),g.jsxs(he,{children:[g.jsx(de,{title:"Login Images"}),g.jsxs(ce,{children:[g.jsx(ue,{refetchImages:e}),g.jsx(le,{images:d,refetchImages:e})]})]})};function Ce(){return g.jsxs(Q,{children:[g.jsx(H,{variant:"h4",children:"CMS"}),g.jsx(xe,{})]})}function $e(){return g.jsxs(g.Fragment,{children:[g.jsx(Z,{children:g.jsxs("title",{children:[" ",`Cms - ${ee.appName}`]})}),g.jsx(Ce,{})]})}export{$e as default};
