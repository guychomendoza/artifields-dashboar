import{r,j as e,F as C,B as d,T as j,d as v,I as w,u as I,D as P,H as D}from"./index-DNJ-7_Rf.js";import{C as B}from"./config-global-CwnLHF89.js";import{A as M,M as N,c as S}from"./index.modern-BSJ2A2Eu.js";import{a as T}from"./projects-BU-ZKPtw.js";import{C as R}from"./Card-98N49c-B.js";import{T as A,a as p}from"./Tabs-D274aWzn.js";import"./index-KKIBTe8w.js";import"./KeyboardArrowRight-DgOaYwjI.js";const O={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,boxShadow:24,pt:2,px:4,pb:3},_=({data:s,isOpen:o,handleClose:i,projectName:a})=>{const[n,l]=r.useState(0),m=(h,u)=>{l(u)};return e.jsx(C,{open:o,onClose:i,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:e.jsxs(R,{sx:{...O,width:{xs:"90%",sm:550,md:800,lg:1e3}},children:[e.jsxs(d,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(j,{variant:"h5",flexGrow:1,children:a}),e.jsx(v,{onClick:i,children:e.jsx(w,{icon:"eva:close-fill"})})]}),e.jsxs(d,{sx:{mt:3},children:[e.jsxs(A,{value:n,onChange:m,"aria-label":"vistas-disponibles",children:[e.jsx(p,{label:"Original",...b(0),sx:{borderRadius:1,marginBottom:.5}}),e.jsx(p,{label:"Resultado",...b(1),sx:{borderRadius:1,marginBottom:.5}})]}),e.jsx(g,{value:n,index:0,children:e.jsx("img",{src:s.url_original,alt:"original",style:{width:"100"},loading:"lazy"})}),e.jsx(g,{value:n,index:1,children:e.jsx("img",{src:s.url_detected,alt:"resultado",style:{width:"100%"},loading:"lazy"})})]})]})})};function b(s){return{id:`simple-tab-${s}`,"aria-controls":`simple-tabpanel-${s}`}}function g(s){const{children:o,value:i,index:a,...n}=s;return e.jsx("div",{role:"tabpanel",hidden:i!==a,id:`vista-${a}`,"aria-labelledby":`vista-${a}`,...n,children:i===a&&e.jsx(d,{sx:{p:3},children:o})})}const $=()=>{const{id:s}=I(),[o,i]=r.useState(!1),[a,n]=r.useState(null),[l,m]=r.useState(null),[h,u]=r.useState({lat:21.228386694444442,lng:-102.39980066666668}),f=()=>i(!0),y=()=>i(!1);return r.useEffect(()=>{(async()=>{var x;const t=await T(Number(s));t&&(m(t),((x=t==null?void 0:t.images)==null?void 0:x.length)>0&&u({lat:Number(t.images[0].latitude),lng:Number(t.images[0].longitude)}))})()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(M,{apiKey:"AIzaSyB_LTdB65XirnWx_f6IrloEw0_Gc70L0ps",children:e.jsx(d,{height:"70vh",children:e.jsx(N,{defaultZoom:17,defaultCenter:h,streetViewControl:!1,mapTypeId:"satellite",gestureHandling:"greedy",disableDefaultUI:!0,mapId:"f1b7b1b3b1b3b1b3",children:l==null?void 0:l.images.map((c,t)=>e.jsx(S,{position:{lat:Number(c.latitude),lng:Number(c.longitude)},onClick:()=>{n(c),f()},children:e.jsx(d,{height:25,width:25,bgcolor:"red",borderRadius:20})},t))})})}),a&&e.jsx(_,{data:a,isOpen:o,handleClose:y,projectName:(l==null?void 0:l.name)??"Proyecto sin nombre"})]})},E=()=>e.jsxs(P,{children:[e.jsx(j,{variant:"h4",marginBottom:2,children:"Resultado del an√°lisis"}),e.jsx($,{})]});function U(){return e.jsxs(e.Fragment,{children:[e.jsx(D,{children:e.jsxs("title",{children:[" ",`Analisis - ${B.appName}`]})}),e.jsx(E,{})]})}export{U as default};
