import{aa as v,r as a,ab as z}from"./index-DNJ-7_Rf.js";import{$ as X}from"./index-KKIBTe8w.js";function N(){return N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},N.apply(null,arguments)}function P(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.includes(o))continue;n[o]=t[o]}return n}function Y(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q(t){var e=Y(t,"string");return typeof e=="symbol"?e:e+""}const S={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},ee="https://maps.googleapis.com/maps/api/js";class x{static async load(e,n){var o;const i=e.libraries?e.libraries.split(","):[],r=this.serializeParams(e);this.listeners.push(n),(o=window.google)!=null&&(o=o.maps)!=null&&o.importLibrary?(this.serializedApiParams||(this.loadingStatus=S.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=r,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==r&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const s=["maps",...i];await Promise.all(s.map(l=>google.maps.importLibrary(l)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const o=()=>n||(n=new Promise((i,r)=>{var s;const l=document.createElement("script"),d=new URLSearchParams;for(const[f,u]of Object.entries(e)){const h=f.replace(/[A-Z]/g,m=>"_"+m[0].toLowerCase());d.set(h,String(u))}d.set("loading","async"),d.set("callback","__googleMapsCallback__"),l.async=!0,l.src=ee+"?"+d.toString(),l.nonce=((s=document.querySelector("script[nonce]"))==null?void 0:s.nonce)||"",l.onerror=()=>{this.loadingStatus=S.FAILED,this.notifyLoadingStatusListeners(),r(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=S.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=S.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=S.LOADING,this.notifyLoadingStatusListeners(),document.head.append(l)}),n);google.maps.importLibrary=i=>o().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}x.loadingStatus=S.NOT_LOADED;x.serializedApiParams=void 0;x.listeners=[];const te=["onLoad","onError","apiKey","version","libraries"],ne=["children"],oe="GMP_visgl_rgmlibrary_v1_default",R=v.createContext(null);function re(){const[t,e]=a.useState({});return{mapInstances:t,addMapInstance:(r,s="default")=>{e(l=>N({},l,{[s]:r}))},removeMapInstance:(r="default")=>{e(s=>P(s,[r].map(Q)))},clearMapInstances:()=>{e({})}}}function ie(t){const{onLoad:e,onError:n,apiKey:o,version:i,libraries:r=[]}=t,s=P(t,te),[l,d]=a.useState(x.loadingStatus),[f,u]=a.useReducer((c,g)=>c[g.name]?c:N({},c,{[g.name]:g.value}),{}),h=a.useMemo(()=>r==null?void 0:r.join(","),[r]),m=a.useMemo(()=>JSON.stringify(N({apiKey:o,version:i},s)),[o,i,s]),p=a.useCallback(async c=>{var g;if(f[c])return f[c];if(!((g=google)!=null&&(g=g.maps)!=null&&g.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const b=await window.google.maps.importLibrary(c);return u({name:c,value:b}),b},[f]);return a.useEffect(()=>{(async()=>{try{const c=N({key:o},s);i&&(c.v=i),(h==null?void 0:h.length)>0&&(c.libraries=h),(c.channel===void 0||c.channel<0||c.channel>999)&&delete c.channel,c.solutionChannel===void 0?c.solutionChannel=oe:c.solutionChannel===""&&delete c.solutionChannel,await x.load(c,g=>d(g));for(const g of["core","maps",...r])await p(g);e&&e()}catch(c){n?n(c):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",c)}})()},[o,h,m]),{status:l,loadedLibraries:f,importLibrary:p}}const He=t=>{const{children:e}=t,n=P(t,ne),{mapInstances:o,addMapInstance:i,removeMapInstance:r,clearMapInstances:s}=re(),{status:l,loadedLibraries:d,importLibrary:f}=ie(n),u=a.useMemo(()=>({mapInstances:o,addMapInstance:i,removeMapInstance:r,clearMapInstances:s,status:l,loadedLibraries:d,importLibrary:f}),[o,i,r,s,l,d,f]);return v.createElement(R.Provider,{value:u},e)};function se(t,e){for(const n of ue){const o=e[n],i=$[n];a.useEffect(()=>{if(!t||!o)return;const r=google.maps.event.addListener(t,i,s=>{o(ae(i,t,s))});return()=>r.remove()},[t,i,o])}}function ae(t,e,n){const o={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(le.includes(t)){const r=o,s=e.getCenter(),l=e.getZoom(),d=e.getHeading()||0,f=e.getTilt()||0,u=e.getBounds();return(!s||!u||!Number.isFinite(l))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),r.detail={center:(s==null?void 0:s.toJSON())||{lat:0,lng:0},zoom:l||0,heading:d,tilt:f,bounds:(u==null?void 0:u.toJSON())||{north:90,east:180,south:-90,west:-180}},r}else if(ce.includes(t)){var i;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const r=o;return r.domEvent=n.domEvent,r.stoppable=!0,r.stop=()=>n.stop(),r.detail={latLng:((i=n.latLng)==null?void 0:i.toJSON())||null,placeId:n.placeId},r}return o}const $={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},le=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],ce=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],ue=Object.keys($);function Z(t,e){const n=a.useRef(void 0);(!n.current||!X(e,n.current))&&(n.current=e),a.useEffect(t,n.current)}const de=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function fe(t,e){const n={},o=Object.keys(e);for(const i of o)de.has(i)&&(n[i]=e[i]);Z(()=>{t&&t.setOptions(n)},[n])}function W(){var t;return((t=a.useContext(R))==null?void 0:t.status)||S.NOT_LOADED}function me(t,e){const{viewport:n,viewState:o}=e,i=!!n;return a.useLayoutEffect(()=>{if(!t||!o)return;const{latitude:r,longitude:s,bearing:l,pitch:d,zoom:f}=o;t.moveCamera({center:{lat:r,lng:s},heading:l,tilt:d,zoom:f+1})},[t,o]),i}function ge(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function J(t){return ge(t)?t:t.toJSON()}function pe(t,e,n){const o=n.center?J(n.center):null;let i=null,r=null;o&&Number.isFinite(o.lat)&&Number.isFinite(o.lng)&&(i=o.lat,r=o.lng);const s=Number.isFinite(n.zoom)?n.zoom:null,l=Number.isFinite(n.heading)?n.heading:null,d=Number.isFinite(n.tilt)?n.tilt:null;a.useLayoutEffect(()=>{if(!t)return;const f={};let u=!1;i!==null&&r!==null&&(e.current.center.lat!==i||e.current.center.lng!==r)&&(f.center={lat:i,lng:r},u=!0),s!==null&&e.current.zoom!==s&&(f.zoom=s,u=!0),l!==null&&e.current.heading!==l&&(f.heading=l,u=!0),d!==null&&e.current.tilt!==d&&(f.tilt=d,u=!0),u&&t.moveCamera(f)})}const he=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return v.createElement("div",{style:t},v.createElement("h2",null,"Error: AuthFailure"),v.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",v.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function Ee(){const[t,e]=a.useState(null),n=a.useCallback(o=>e(o),[e]);return[t,n]}function j(){return W()===S.LOADED}function Ce(){const[,t]=a.useReducer(e=>e+1,0);return t}function ve(t,e){const n=t.getCenter(),o=t.getZoom(),i=t.getHeading()||0,r=t.getTilt()||0,s=t.getBounds();(!n||!s||!Number.isFinite(o))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:o||0,heading:i,tilt:r})}function Te(t){const e=Ce(),n=a.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return a.useEffect(()=>{if(!t)return;const o=google.maps.event.addListener(t,"bounds_changed",()=>{ve(t,n),e()});return()=>o.remove()},[t,e]),n}const Le=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],Oe=["padding"];class F{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}F.entries={};function _e(t,e){const n=j(),[o,i]=a.useState(null),[r,s]=Ee(),l=Te(o),{id:d,defaultBounds:f,defaultCenter:u,defaultZoom:h,defaultHeading:m,defaultTilt:p,reuseMaps:c,renderingType:g,colorScheme:b}=t,E=P(t,Le),T=t.zoom!==void 0||t.defaultZoom!==void 0,O=t.center!==void 0||t.defaultCenter!==void 0;!f&&(!T||!O)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!E.center&&u&&(E.center=u),!E.zoom&&Number.isFinite(h)&&(E.zoom=h),!E.heading&&Number.isFinite(m)&&(E.heading=m),!E.tilt&&Number.isFinite(p)&&(E.tilt=p);for(const C of Object.keys(E))E[C]===void 0&&delete E[C];const y=a.useRef();return a.useEffect(()=>{if(!r||!n)return;const{addMapInstance:C,removeMapInstance:L}=e,{mapId:I}=t,w=`${I||"default"}:${g||"default"}:${b||"LIGHT"}`;let M,_;if(c&&F.has(w)?(_=F.pop(w),M=_.getDiv(),r.appendChild(M),_.setOptions(E),setTimeout(()=>_.setCenter(_.getCenter()),0)):(M=document.createElement("div"),M.style.height="100%",r.appendChild(M),_=new google.maps.Map(M,N({},E,g?{renderingType:g}:{},b?{colorScheme:b}:{}))),i(_),C(_,d),f){const{padding:A}=f,H=P(f,Oe);_.fitBounds(H,A)}else(!T||!O)&&_.fitBounds({east:180,west:-180,south:-90,north:90});if(y.current){const{mapId:A,cameraState:H}=y.current;A!==I&&_.setOptions(H)}return()=>{y.current={mapId:I,cameraState:l.current},M.remove(),c?F.push(w,_):google.maps.event.clearInstanceListeners(_),i(null),L(d)}},[r,n,d,t.mapId,t.renderingType,t.colorScheme]),[o,s,l]}const V=v.createContext(null),be=t=>{const{children:e,id:n,className:o,style:i}=t,r=a.useContext(R),s=W();if(!r)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[l,d,f]=_e(t,r);pe(l,f,t),se(l,t),fe(l,t);const u=me(l,t),h=!!t.controlled;a.useEffect(()=>{if(l)return u&&l.setOptions({disableDefaultUI:!0}),(u||h)&&l.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{l.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[l,u,h,t.gestureHandling,t.keyboardShortcuts]);const m=t.center?J(t.center):null;let p=null,c=null;m&&Number.isFinite(m.lat)&&Number.isFinite(m.lng)&&(p=m.lat,c=m.lng);const g=a.useMemo(()=>{var T,O,y,C,L;return{center:{lat:(T=p)!=null?T:0,lng:(O=c)!=null?O:0},zoom:(y=t.zoom)!=null?y:0,heading:(C=t.heading)!=null?C:0,tilt:(L=t.tilt)!=null?L:0}},[p,c,t.zoom,t.heading,t.tilt]);a.useLayoutEffect(()=>{if(!l||!h)return;l.moveCamera(g);const T=l.addListener("bounds_changed",()=>{l.moveCamera(g)});return()=>T.remove()},[l,h,g]);const b=a.useMemo(()=>N({width:"100%",height:"100%",position:"relative",zIndex:u?-1:0},i),[i,u]),E=a.useMemo(()=>({map:l}),[l]);return s===S.AUTH_FAILURE?v.createElement("div",{style:N({position:"relative"},o?{}:b),className:o},v.createElement(he,null)):v.createElement("div",N({ref:d,"data-testid":"map",style:o?void 0:b,className:o},n?{id:n}:{}),l?v.createElement(V.Provider,{value:E},e):null)};be.deckGLViewProps=!0;const G=new Set;function ye(...t){const e=JSON.stringify(t);G.has(e)||(G.add(e),console.error(...t))}const B=(t=null)=>{const e=a.useContext(R),{map:n}=a.useContext(V)||{};if(e===null)return ye("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:o}=e;return t!==null?o[t]||null:n||o.default||null};function q(t){const e=j(),n=a.useContext(R);return a.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function k(t,e,n){a.useEffect(()=>{if(!t||!e||!n)return;const o=google.maps.event.addListener(t,e,n);return()=>o.remove()},[t,e,n])}function D(t,e,n){a.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}function U(t,e,n){a.useEffect(()=>{if(!(!t||!e||!n))return t.addEventListener(e,n),()=>t.removeEventListener(e,n)},[t,e,n])}function Ie(t){return t.content!==void 0}function we(t){return t.nodeType===Node.ELEMENT_NODE}const Me=v.createContext(null),Ne={TOP_LEFT:["0%","0%"],TOP_CENTER:["50%","0%"],TOP:["50%","0%"],TOP_RIGHT:["100%","0%"],LEFT_CENTER:["0%","50%"],LEFT_TOP:["0%","0%"],LEFT:["0%","50%"],LEFT_BOTTOM:["0%","100%"],RIGHT_TOP:["100%","0%"],RIGHT:["100%","50%"],RIGHT_CENTER:["100%","50%"],RIGHT_BOTTOM:["100%","100%"],BOTTOM_LEFT:["0%","100%"],BOTTOM_CENTER:["50%","100%"],BOTTOM:["50%","100%"],BOTTOM_RIGHT:["100%","100%"],CENTER:["50%","50%"]},Se=({children:t,styles:e,className:n,anchorPoint:o})=>{const[i,r]=o??Ne.BOTTOM,s=`translate(50%, 100%) translate(-${i}, -${r})`;return v.createElement("div",{style:{transform:s}},v.createElement("div",{className:n,style:e},t))};function Pe(t){const[e,n]=a.useState(null),[o,i]=a.useState(null),r=B(),s=q("marker"),{children:l,onClick:d,className:f,onMouseEnter:u,onMouseLeave:h,onDrag:m,onDragStart:p,onDragEnd:c,collisionBehavior:g,clickable:b,draggable:E,position:T,title:O,zIndex:y}=t,C=a.Children.count(l);return a.useEffect(()=>{if(!r||!s)return;const L=new s.AdvancedMarkerElement;L.map=r,n(L);let I=null;return C>0&&(I=document.createElement("div"),I.isCustomMarker=!0,L.content=I,i(I)),()=>{var w;L.map=null,(w=I)==null||w.remove(),n(null),i(null)}},[r,s,C]),a.useEffect(()=>{!e||!e.content||C>0||(e.content.className=f||"")},[e,f,C]),D(e,"position",T),D(e,"title",O??""),D(e,"zIndex",y),D(e,"collisionBehavior",g),a.useEffect(()=>{e&&(E!==void 0?e.gmpDraggable=E:m||p||c?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,E,m,c,p]),a.useEffect(()=>{if(!e)return;const L=b!==void 0||!!d||!!u||!!h;e.gmpClickable=L,L&&e!=null&&e.content&&we(e.content)&&(e.content.style.pointerEvents="none",e.content.firstElementChild&&(e.content.firstElementChild.style.pointerEvents="all"))},[e,b,d,u,h]),k(e,"click",d),k(e,"drag",m),k(e,"dragstart",p),k(e,"dragend",c),U(e==null?void 0:e.element,"mouseenter",u),U(e==null?void 0:e.element,"mouseleave",h),[e,o]}const Ge=a.forwardRef((t,e)=>{const{children:n,style:o,className:i,anchorPoint:r}=t,[s,l]=Pe(t),d=a.useMemo(()=>s?{marker:s}:null,[s]);return a.useImperativeHandle(e,()=>s,[s]),l?v.createElement(Me.Provider,{value:d},z.createPortal(v.createElement(Se,{anchorPoint:r,styles:o,className:i},n),l)):null});function Ae(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const o=t.style;if(n==null){if(e==null)return;for(const i in e)e.hasOwnProperty(i)&&K(o,i,e[i]);return}for(const i in n)n.hasOwnProperty(i)&&(e==null||!e.hasOwnProperty(i))&&(i.indexOf("--")===0?o.setProperty(i,""):i==="float"?o.cssFloat="":o[i]="");if(e!=null)for(const i in e){const r=e[i];e.hasOwnProperty(i)&&n[i]!==r&&K(o,i,r)}}function K(t,e,n){const o=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":o?t.setProperty(e,n):typeof n=="number"&&n!==0&&!xe(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const ke=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function xe(t){return ke.has(t)}const Re=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],Ue=t=>{const{children:e,headerContent:n,style:o,className:i,pixelOffset:r,anchor:s,shouldFocus:l,onClose:d,onCloseClick:f}=t,u=P(t,Re),h=q("maps"),[m,p]=a.useState(null),c=a.useRef(null),g=a.useRef(null);a.useEffect(()=>{if(!h)return;c.current=document.createElement("div"),g.current=document.createElement("div");const T=u;r&&(T.pixelOffset=new google.maps.Size(r[0],r[1])),n&&(T.headerContent=typeof n=="string"?n:g.current);const O=new google.maps.InfoWindow(u);return O.setContent(c.current),p(O),()=>{var y,C;O.setContent(null),(y=c.current)==null||y.remove(),(C=g.current)==null||C.remove(),c.current=null,g.current=null,p(null)}},[h]);const b=a.useRef(null);a.useEffect(()=>{!m||!c.current||(Ae(c.current,o||null,b.current),b.current=o||null,i!==c.current.className&&(c.current.className=i||""))},[m,i,o]),Z(()=>{if(!m)return;const T=u;r?T.pixelOffset=new google.maps.Size(r[0],r[1]):T.pixelOffset=null,n?T.headerContent=typeof n=="string"?n:g.current:T.headerContent=null,m.setOptions(u)},[u,r,n]),k(m,"close",d),k(m,"closeclick",f);const E=B();return a.useEffect(()=>{if(!E||!m||s===null)return;const T=!!s,O={map:E};if(s&&(O.anchor=s,Ie(s)&&s.content instanceof Element)){const C=s.content,L=C==null?void 0:C.getBoundingClientRect();if(L&&C!=null&&C.isCustomMarker){var y;const I=(y=s.content.firstElementChild)==null?void 0:y.firstElementChild,w=I==null?void 0:I.getBoundingClientRect(),M=w.x-L.x+(w.width-L.width)/2,_=w.y-L.y,A=u;A.pixelOffset=new google.maps.Size(r?r[0]+M:M,r?r[1]+_:_),m.setOptions(A)}}return l!==void 0&&(O.shouldFocus=l),m.open(O),()=>{T&&m.set("anchor",null),m.close()}},[m,s,E,l,u,r]),v.createElement(v.Fragment,null,c.current&&z.createPortal(e,c.current),g.current!==null&&z.createPortal(n,g.current))},Ke={TOP_LEFT:1,TOP_CENTER:2,TOP:2,TOP_RIGHT:3,LEFT_CENTER:4,LEFT_TOP:5,LEFT:5,LEFT_BOTTOM:6,RIGHT_TOP:7,RIGHT:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM:11,BOTTOM_RIGHT:12,CENTER:13,BLOCK_START_INLINE_START:14,BLOCK_START_INLINE_CENTER:15,BLOCK_START_INLINE_END:16,INLINE_START_BLOCK_CENTER:17,INLINE_START_BLOCK_START:18,INLINE_START_BLOCK_END:19,INLINE_END_BLOCK_START:20,INLINE_END_BLOCK_CENTER:21,INLINE_END_BLOCK_END:22,BLOCK_END_INLINE_START:23,BLOCK_END_INLINE_CENTER:24,BLOCK_END_INLINE_END:25},$e=({children:t,position:e})=>{const n=a.useMemo(()=>document.createElement("div"),[]),o=B();return a.useEffect(()=>{if(!o)return;const i=o.controls[e];return i.push(n),()=>{const r=i.getArray();if(!r)return;const s=r.indexOf(n);i.removeAt(s)}},[n,o,e]),z.createPortal(t,n)},De=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function Fe(t){const[e,n]=a.useState(null),o=B(),{onClick:i,onDrag:r,onDragStart:s,onDragEnd:l,onMouseOver:d,onMouseOut:f}=t,u=P(t,De),{position:h,draggable:m}=u;return a.useEffect(()=>{if(!o){o===void 0&&console.error("<Marker> has to be inside a Map component.");return}const p=new google.maps.Marker(u);return p.setMap(o),n(p),()=>{p.setMap(null),n(null)}},[o]),a.useEffect(()=>{if(!e)return;const p=e,c=google.maps.event;return i&&c.addListener(p,"click",i),r&&c.addListener(p,"drag",r),s&&c.addListener(p,"dragstart",s),l&&c.addListener(p,"dragend",l),d&&c.addListener(p,"mouseover",d),f&&c.addListener(p,"mouseout",f),e.setDraggable(!!m),()=>{c.clearInstanceListeners(p)}},[e,m,i,r,s,l,d,f]),a.useEffect(()=>{e&&u&&e.setOptions(u)},[e,u]),a.useEffect(()=>{m||!h||!e||e.setPosition(h)},[m,h,e]),e}a.forwardRef((t,e)=>{const n=Fe(t);return a.useImperativeHandle(e,()=>n,[n]),v.createElement(v.Fragment,null)});export{He as A,Ke as C,Ue as I,be as M,q as a,$e as b,Ge as c,B as u};
